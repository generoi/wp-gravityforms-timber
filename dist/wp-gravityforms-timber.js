!function(e){function t(r){if(o[r])return o[r].exports;var i=o[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}var o={};t.m=e,t.c=o,t.d=function(e,o,r){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(o,"a",o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=0)}([function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(1);Object(r.a)("form[data-ajax]")},function(e,t,o){"use strict";(function(e){var r=o(3);o.n(r).a.polyfill();var i=function(t,o){void 0===o&&(o={}),this.options=Object.assign({recaptcha:!1,errorMessageSelector:".form-error-message",honeypot:"form-question-answer",honeypotMinDuration:1e3,showTopErrorMessage:!0},o),this.form=t,this.id=this.form.id.replace("form--",""),this.$context=e(this.form),this.$submit=this.$context.find('input[type="submit"]'),this.$errorMessageContainer=this.$context.find(this.options.errorMessageSelector),this.confirmation=window.formConfirmation[this.form.id],this.setStartTime(Date.now()),this.options.recaptcha&&this.loadRecaptcha()};i.prototype.setStartTime=function(e){this.startTime=e},i.prototype.submit=function(){if(!this.formSubmitted){this.formSubmitted=!0,this.$submit.prop("disabled","disabled").addClass("spinner");var t=new FormData(this.form);if(!this.validateHoneypot(t.get(this.options.honeypot)))throw new Error("Bot detection");t.delete(this.options.honeypot),e.ajax({url:this.form.action,method:(this.form.method||"get").toUpperCase(),data:t,dataType:"json",enctype:this.form.enctype,processData:!1,contentType:!1,beforeSend:function(e){window.Sage.nonce&&e.setRequestHeader("X-WP-Nonce",window.Sage.nonce)}}).done(this.done.bind(this)).fail(this.fail.bind(this))}},i.prototype.fail=function(e,t,o){console.error(t+": "+o),this.$submit.removeProp("disabled").removeClass("spinner"),this.formSubmitted=!1,this.addInlineErrorMessages(e),this.options.showTopErrorMessage?(this.$errorMessageContainer.show().removeClass("is-hidden").html("<p>"+this.getErrorMessage(e)+"</p>"),this.scrollTo(this.$errorMessageContainer)):this.scrollTo(this.$context.find(".is-invalid-label").first()),window.grecaptcha&&window.grecaptcha.reset()},i.prototype.done=function(e,t,o){if(e.hasOwnProperty("is_valid")&&!e.is_valid)return this.fail(o,t,"ValidationFailure");var r=this.$context.data();r.generoAnalytics&&r.category&&window.Gevent?window.Gevent(r.category,"Confirmation",r.label,this.applyConfirmation.bind(this)):this.applyConfirmation()},i.prototype.applyConfirmation=function(e){switch(void 0===e&&(e=this.confirmation),e.type){case"page":case"redirect":window.location=e.redirect;break;case"message":this.$context.html(e.html),this.scrollTo(this.$context)}},i.prototype.scrollTo=function(t){e.scrollTo&&e.scrollTo(t,{offset:{top:-150,left:0},duration:200})},i.prototype.addInlineErrorMessages=function(e){var t=this;if(this.$context.find(".is-invalid-label, .is-invalid-input").removeClass("is-invalid-label").removeClass("is-invalid-input"),e.responseJSON&&e.responseJSON.data){var o=e.responseJSON.data;o.params&&(Array.isArray(o.params)?o.params.forEach(function(e){t.setInputAsInvalid(e,o.message)}):Object.keys(o.params).forEach(function(e){t.setInputAsInvalid(e,o.params[e])}))}if(e.responseJSON&&e.responseJSON.validation_messages){var r=e.responseJSON.validation_messages;Object.keys(r).forEach(function(e){t.setInputAsInvalid("input_"+e,r[e])})}},i.prototype.setInputAsInvalid=function(e,t){var o=this.$context.find('[name="'+e+'"]'),r=this.$context.find('label[for="'+e+'"]');o.addClass("is-invalid-input"),r.addClass("is-invalid-label"),t&&o.not("[type=radio]")&&o.not("[type=checkbox]")&&o.after('<span class="form-error is-visible">'+t+"</span>")},i.prototype.getErrorMessage=function(e){if(e.responseJSON&&e.responseJSON.code){var t=e.responseJSON,o=t.data.params;switch(t.code){case"rest_invalid_param":case"rest_missing_callback_param":if(o.hasOwnProperty("g-recaptcha-response"))return window.Sage.l10n.error_recaptcha;if(o.hasOwnProperty("form_id")||o.hasOwnProperty("_wpnonce")){console.error("internal fields are missing"),console.error(o);break}return window.Sage.l10n.error_form_param}}return window.Sage.l10n.error_form_general},i.prototype.validateHoneypot=function(e){return console.log(e),!e&&!(this.startTime+this.options.honeypotMinDuration>Date.now())},i.prototype.loadRecaptcha=function(){var t=window.Sage.language||"en";t=t.replace(/^([a-z]{2})-([a-z]{2})/,"$2"),e.ajax({url:"https://www.google.com/recaptcha/api.js?hl="+t,cache:!0,dataType:"script"})},t.a=function(t,o){void 0===t&&(t="form[data-ajax]"),void 0===o&&(o={});var r=Date.now();e(t).each(function(e,t){t.ajaxForm||(t.ajaxForm=new i(t,o))}),e(document).on("submit",t,function(e){var t=e.target;return t.ajaxForm||(t.ajaxForm=new i(t,o),t.ajaxForm.setStartTime(r)),t.ajaxForm.submit(),!1})}}).call(t,o(2))},function(e,t){e.exports=jQuery},function(e,t,o){"use strict";function r(e,t){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var o=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(void 0!==i&&null!==i)for(var n=Object.keys(Object(i)),a=0,s=n.length;a<s;a++){var c=n[a],p=Object.getOwnPropertyDescriptor(i,c);void 0!==p&&p.enumerable&&(o[c]=i[c])}}return o}function i(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:r})}e.exports={assign:r,polyfill:i}}]);
//# sourceMappingURL=wp-gravityforms-timber.js.map